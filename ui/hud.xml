<!-- Main HUD - VTM5E Module -->
<!-- This file contains all UI elements: player HUDs, admin panel, defaults, and shared elements -->
<!-- This is the main UI file that should be loaded in global.ttslua via UI.setXml() -->
<!--
  NOTE: TTS does not support XML includes, so all UI components are combined in this single file.
-->

<!-- DEFAULTS SECTION -->
<!-- Common default styles and classes for UI elements -->
<Defaults>
  <!-- Baseline Layout Defaults -->
  <Image preserveAspect="true" raycastTarget="false" />
  <VerticalLayout raycastTarget="false" />
  <HorizontalLayout raycastTarget="false" />

  <!-- Button Styles -->
  <Button
    minWidth="150"
    minHeight="30"
    preferredWidth="150"
    preferredHeight="30"
    flexibleWidth="0"
    flexibleHeight="0"
    color="rgba(0.7,0.7,0.7,1)"
    fontSize="16"
    fontStyle="Bold" />

  <!-- Text Spacers -->
  <Text class="spacer_5" color="clear" fontSize="4" />
  <Text class="spacer_10" color="clear" fontSize="8" />
  <Text class="spacer_15" color="clear" fontSize="16" />
  <Text class="spacer_20" color="clear" fontSize="32" />

  <!-- Panel Styles -->
  <Panel class="panel-base" color="rgba(0, 0, 0, 0.7)" padding="10 10 10 10" />
  <Panel class="panel-dark" color="rgba(0, 0, 0, 0.85)" padding="10 10 10 10" />

  <!-- Toggle Button Panel -->
  <HorizontalLayout class="buttonPanel"
    spacing="5"
    padding="5 5 5 5"
    childAlignment="MiddleLeft"
    childForceExpandWidth="false" />

  <Button class="buttonPanelToggle"
    minWidth="25"
    minHeight="25"
    preferredWidth="25"
    preferredHeight="25"
    fontSize="14"
    text="►"
    color="rgba(0.5, 0.5, 0.5, 1)" />

  <VerticalLayout class="buttonBar"
    spacing="5"
    padding="5 5 5 5"
    childAlignment="UpperLeft"
    active="False" />

  <!-- Status Display Styles -->
  <Text class="statusText"
    fontSize="14"
    alignment="MiddleLeft"
    color="#FFFFFF"
    outline="#000000"
    outlineSize="1 1" />

  <Text class="statusLabel"
    fontSize="14"
    alignment="MiddleLeft"
    color="#CCCCCC"
    outline="#000000"
    outlineSize="1 1" />

  <!-- Stat Display (Hunger, Willpower, Health) -->
  <HorizontalLayout class="statDisplay"
    spacing="10"
    padding="5 5 5 5"
    childAlignment="MiddleLeft"
    childForceExpandWidth="false" />

  <Text class="statLabel"
    fontSize="16"
    alignment="MiddleLeft"
    color="#CCCCCC"
    preferredWidth="100"
    outline="#000000"
    outlineSize="1 1" />

  <Text class="statValue"
    fontSize="18"
    alignment="MiddleCenter"
    color="#FFFFFF"
    preferredWidth="50"
    outline="#000000"
    outlineSize="1 1"
    fontStyle="Bold" />

  <!-- Player HUD Container -->
  <Panel class="playerHudPanel"
    width="250"
    height="150"
    color="rgba(0, 0, 0, 0.7)"
    padding="10 10 10 10"
    rectAlignment="UpperRight"
    offsetXY="-10 10" />

  <!-- Stat Display Layout -->
  <VerticalLayout class="playerStats"
    spacing="8"
    padding="5 5 5 5"
    childAlignment="UpperLeft"
    childForceExpandWidth="true" />
</Defaults>

<!-- ADMIN/STORYTELLER PANEL (Visible to Host/Black player only) -->
<VerticalLayout class="adminContainer" visibility="Host|Black" width="400" spacing="5" padding="10 10 10 10" rectAlignment="UpperLeft" offsetXY="10 10">

  <!-- Game Phase Status -->
  <HorizontalLayout class="statusDisplay" spacing="10" padding="5 5 5 5" childAlignment="MiddleLeft">
    <Text class="statusLabel" fontSize="14" color="#CCCCCC" preferredWidth="120">Current Phase:</Text>
    <Text id="currentPhaseDisplay" class="statusText" fontSize="14" color="#FFFFFF">Initialization</Text>
  </HorizontalLayout>

  <!-- Scene Status -->
  <HorizontalLayout class="statusDisplay" spacing="10" padding="5 5 5 5" childAlignment="MiddleLeft">
    <Text class="statusLabel" fontSize="14" color="#CCCCCC" preferredWidth="120">Current Scene:</Text>
    <Text id="currentSceneDisplay" class="statusText" fontSize="14" color="#FFFFFF">default</Text>
  </HorizontalLayout>

  <!-- Main Controls Panel (Toggle) -->
  <HorizontalLayout class="buttonPanel" spacing="5" padding="5 5 5 5" childAlignment="MiddleLeft">
    <Button id="toggleElem_storytellerControls" class="buttonPanelToggle" onClick="HUD_togglePanel">►</Button>
    <VerticalLayout id="storytellerControls" class="buttonBar" active="False" spacing="5" padding="5 5 5 5">

      <!-- Scene Controls -->
      <Text class="statusLabel" fontSize="16" color="#FFD700">Scene Controls</Text>
      <Button id="scene_default" onClick="HUD_changeScene">Default</Button>
      <Button id="scene_elysium" onClick="HUD_changeScene">Elysium</Button>
      <Button id="scene_alley" onClick="HUD_changeScene">Alley</Button>
      <Button id="scene_haven" onClick="HUD_changeScene">Haven</Button>
      <Button id="scene_tension" onClick="HUD_changeScene">Tension</Button>
      <Button id="scene_combat" onClick="HUD_changeScene">Combat</Button>
      <Button id="scene_suspicion" onClick="HUD_changeScene">Suspicion</Button>
      <Button id="scene_social" onClick="HUD_changeScene">Social</Button>

      <Text class="spacer_10"></Text>

      <!-- Phase Controls -->
      <Text class="statusLabel" fontSize="16" color="#FFD700">Phase Controls</Text>
      <Button id="phase_play" onClick="HUD_advancePhase" color="#00AA00">Enter Play</Button>
      <Button id="phase_combat" onClick="HUD_advancePhase" color="#AA0000">Enter Combat</Button>

      <Text class="spacer_10"></Text>

      <!-- Utility Controls -->
      <Text class="statusLabel" fontSize="16" color="#FFD700">Utilities</Text>
      <Button id="utility_reset" onClick="HUD_resetGame" color="#AA0000">Reset Game</Button>
      <Button id="utility_save" onClick="HUD_saveState" color="#00AA00">Save State</Button>

      <Text class="spacer_10"></Text>

      <!-- Debug Controls Panel (Toggle) -->
      <HorizontalLayout class="buttonPanel" spacing="5" padding="5 5 5 5" childAlignment="MiddleLeft">
        <Button id="toggleElem_debugControls" class="buttonPanelToggle" onClick="HUD_togglePanel">►</Button>
        <VerticalLayout id="debugControls" class="buttonBar" active="False" spacing="5" padding="5 5 5 5">
          <Text class="statusLabel" fontSize="14" color="#FF6666">Debug</Text>
          <Button id="debug_zones" onClick="HUD_toggleZones" color="#00FF00">Toggle Zones</Button>
          <Button id="debug_logState" onClick="HUD_logState" color="#6666FF">Log State</Button>
        </VerticalLayout>
      </HorizontalLayout>

    </VerticalLayout>
  </HorizontalLayout>

</VerticalLayout>

<!-- PLAYER HUD PANELS (Visible per player color) -->

<!-- Player HUD Panel - Red Player -->
<Panel id="playerHud_Red" class="playerHudPanel" visibility="Red">
  <VerticalLayout class="playerStats">
    <Text class="statLabel" fontSize="20" color="#FFFFFF" fontStyle="Bold">Character Stats</Text>
    <Text class="spacer_5"></Text>

    <HorizontalLayout class="statDisplay">
      <Text class="statLabel">Hunger:</Text>
      <Text id="hungerVal_Red" class="statValue" color="#CC0000">0</Text>
      <Text class="statLabel" fontSize="12" color="#888888">/ 5</Text>
    </HorizontalLayout>

    <HorizontalLayout class="statDisplay">
      <Text class="statLabel">Willpower:</Text>
      <Text id="willpowerVal_Red" class="statValue" color="#0066FF">5</Text>
      <Text class="statLabel" fontSize="12" color="#888888">/ 5</Text>
    </HorizontalLayout>

    <HorizontalLayout class="statDisplay">
      <Text class="statLabel">Health:</Text>
      <Text id="healthVal_Red" class="statValue" color="#00AA00">7</Text>
      <Text class="statLabel" fontSize="12" color="#888888">/ 7</Text>
    </HorizontalLayout>
  </VerticalLayout>
</Panel>

<!-- Player HUD Panel - Blue Player -->
<Panel id="playerHud_Blue" class="playerHudPanel" visibility="Blue">
  <VerticalLayout class="playerStats">
    <Text class="statLabel" fontSize="20" color="#FFFFFF" fontStyle="Bold">Character Stats</Text>
    <Text class="spacer_5"></Text>

    <HorizontalLayout class="statDisplay">
      <Text class="statLabel">Hunger:</Text>
      <Text id="hungerVal_Blue" class="statValue" color="#CC0000">0</Text>
      <Text class="statLabel" fontSize="12" color="#888888">/ 5</Text>
    </HorizontalLayout>

    <HorizontalLayout class="statDisplay">
      <Text class="statLabel">Willpower:</Text>
      <Text id="willpowerVal_Blue" class="statValue" color="#0066FF">5</Text>
      <Text class="statLabel" fontSize="12" color="#888888">/ 5</Text>
    </HorizontalLayout>

    <HorizontalLayout class="statDisplay">
      <Text class="statLabel">Health:</Text>
      <Text id="healthVal_Blue" class="statValue" color="#00AA00">7</Text>
      <Text class="statLabel" fontSize="12" color="#888888">/ 7</Text>
    </HorizontalLayout>
  </VerticalLayout>
</Panel>

<!-- Player HUD Panel - Green Player -->
<Panel id="playerHud_Green" class="playerHudPanel" visibility="Green">
  <VerticalLayout class="playerStats">
    <Text class="statLabel" fontSize="20" color="#FFFFFF" fontStyle="Bold">Character Stats</Text>
    <Text class="spacer_5"></Text>

    <HorizontalLayout class="statDisplay">
      <Text class="statLabel">Hunger:</Text>
      <Text id="hungerVal_Green" class="statValue" color="#CC0000">0</Text>
      <Text class="statLabel" fontSize="12" color="#888888">/ 5</Text>
    </HorizontalLayout>

    <HorizontalLayout class="statDisplay">
      <Text class="statLabel">Willpower:</Text>
      <Text id="willpowerVal_Green" class="statValue" color="#0066FF">5</Text>
      <Text class="statLabel" fontSize="12" color="#888888">/ 5</Text>
    </HorizontalLayout>

    <HorizontalLayout class="statDisplay">
      <Text class="statLabel">Health:</Text>
      <Text id="healthVal_Green" class="statValue" color="#00AA00">7</Text>
      <Text class="statLabel" fontSize="12" color="#888888">/ 7</Text>
    </HorizontalLayout>
  </VerticalLayout>
</Panel>

<!-- Additional player panels can be added here for other colors (Yellow, Pink, Purple, Orange, Brown, Black, Grey, Teal) -->
<!-- Pattern: playerHud_<Color>, hungerVal_<Color>, willpowerVal_<Color>, healthVal_<Color> -->

<!-- SHARED UI ELEMENTS (visible to all players) -->
<!-- Dice Results Display (shown after rolls) -->
<Panel id="diceResultsPanel"
  active="False"
  width="600"
  height="200"
  color="rgba(0, 0, 0, 0.9)"
  padding="20 20 20 20"
  rectAlignment="MiddleCenter">

  <VerticalLayout spacing="10" childAlignment="MiddleCenter">
    <Text id="diceResultsPlayerName"
      fontSize="24"
      color="#FFD700"
      fontStyle="Bold"
      alignment="MiddleCenter" />

    <Text id="diceResultsValues"
      fontSize="20"
      color="#FFFFFF"
      alignment="MiddleCenter" />

    <Text id="diceResultsMessage"
      fontSize="18"
      color="#00FF00"
      alignment="MiddleCenter"
      fontStyle="Bold" />
  </VerticalLayout>
</Panel>

<!-- Scene Transition Overlay (optional, for dramatic effect) -->
<Panel id="sceneTransitionOverlay"
  active="False"
  width="100%"
  height="100%"
  color="rgba(0, 0, 0, 0.8)"
  rectAlignment="MiddleCenter">

  <Text id="sceneTransitionText"
    fontSize="32"
    color="#FFFFFF"
    alignment="MiddleCenter"
    fontStyle="Bold" />
</Panel>
